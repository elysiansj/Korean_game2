<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•œê¸€ ëª¨ìŒ í•™ìŠµ ê²Œì„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        
        .score {
            text-align: center;
            font-size: 1.5em;
            color: #764ba2;
            margin-bottom: 20px;
        }
        
        /* 1ë‹¨ê³„: ëª¨ìŒ ì¸ì‹ ê²Œì„ */
        #stage1 {
            display: block;
        }
        
        .image-container {
            text-align: center;
            margin: 30px 0;
        }
        
        .quiz-image {
            width: 200px;
            height: 200px;
            background: #f0f0f0;
            border-radius: 15px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 120px;
            margin-bottom: 20px;
        }
        
        .question {
            font-size: 1.5em;
            text-align: center;
            margin-bottom: 30px;
            color: #333;
        }
        
        .vowel-buttons {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .vowel-btn {
            padding: 20px;
            font-size: 2em;
            background: #f8f9fa;
            border: 3px solid #dee2e6;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .vowel-btn:hover {
            background: #e9ecef;
            transform: translateY(-2px);
        }
        
        .vowel-btn.correct {
            background: #28a745;
            color: white;
            border-color: #28a745;
        }
        
        .vowel-btn.wrong {
            background: #dc3545;
            color: white;
            border-color: #dc3545;
            animation: shake 0.5s;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        /* 2ë‹¨ê³„: ë”°ë¼ì“°ê¸° ê²Œì„ */
        #stage2 {
            display: none;
        }
        
        .write-instruction {
            text-align: center;
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #333;
        }
        
        .target-vowel {
            text-align: center;
            font-size: 5em;
            color: #667eea;
            margin-bottom: 20px;
        }
        
        .canvas-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        
        #drawCanvas {
            border: 3px solid #667eea;
            border-radius: 10px;
            cursor: crosshair;
            background: white;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 15px 30px;
            font-size: 1.2em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-clear {
            background: #ffc107;
            color: white;
        }
        
        .btn-next {
            background: #28a745;
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .feedback {
            text-align: center;
            font-size: 2em;
            margin-top: 20px;
            min-height: 50px;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div style="text-align: center; margin-bottom: 10px; color: #764ba2; font-size: 1.2em;">
            íœ„ë¡œì‰½í•œê¸€í•™êµ ë‚˜ë¹„ë°˜ í•œê¸€ëª¨ìŒ ê²Œì„
        </div>
        <div style="text-align: center; margin-bottom: 20px; color: #999; font-size: 0.9em;">
            made by ì´ìˆ˜ì •
        </div>
        <h1>ğŸ® í•œê¸€ ëª¨ìŒ ê²Œì„</h1>
        <div class="score">ì ìˆ˜: <span id="score">0</span></div>
        
        <!-- 1ë‹¨ê³„: ëª¨ìŒ ì¸ì‹ ê²Œì„ -->
        <div id="stage1">
            <div class="image-container">
                <div class="quiz-image" id="quizImage">ğŸ</div>
            </div>
            <div class="question">ì´ ê·¸ë¦¼ì€ ì–´ë–¤ ëª¨ìŒìœ¼ë¡œ ì‹œì‘í• ê¹Œìš”?</div>
            <div class="vowel-buttons" id="vowelButtons"></div>
            <div class="feedback" id="feedback1"></div>
        </div>
        
        <!-- 2ë‹¨ê³„: ë”°ë¼ì“°ê¸° ê²Œì„ -->
        <div id="stage2">
            <div class="write-instruction">ëª¨ìŒì„ ë”°ë¼ ì¨ë³´ì„¸ìš”!</div>
            <div class="target-vowel" id="targetVowel">ã…</div>
            <div class="canvas-container">
                <canvas id="drawCanvas" width="400" height="400"></canvas>
            </div>
            <div class="controls">
                <button class="btn btn-clear" onclick="clearCanvas()">ì§€ìš°ê¸°</button>
                <button class="btn btn-next" onclick="nextQuestion()">ë‹¤ìŒ ë¬¸ì œ</button>
            </div>
            <div class="feedback" id="feedback2"></div>
        </div>
    </div>

    <script>
        // ê²Œì„ ë°ì´í„°
        const questions = [
            { emoji: 'ğŸ', word: 'ì‚¬ê³¼', vowel: 'ã…' },
            { emoji: 'ğŸ˜', word: 'ì½”ë¼ë¦¬', vowel: 'ã…—' },
            { emoji: 'ğŸŒ', word: 'ë°”ë‚˜ë‚˜', vowel: 'ã…' },
            { emoji: 'ğŸ»', word: 'ê³°', vowel: 'ã…—' },
            { emoji: 'ğŸˆ', word: 'í’ì„ ', vowel: 'ã…œ' },
            { emoji: 'ğŸŒ™', word: 'ë‹¬', vowel: 'ã…' },
            { emoji: 'â­', word: 'ë³„', vowel: 'ã…•' },
            { emoji: 'ğŸŒº', word: 'ê½ƒ', vowel: 'ã…—' }
        ];
        
        const vowels = ['ã…', 'ã…‘', 'ã…“', 'ã…•', 'ã…—', 'ã…›', 'ã…œ', 'ã… ', 'ã…¡', 'ã…£'];
        
        let currentQuestion = 0;
        let score = 0;
        let stage = 1;
        
        // ìº”ë²„ìŠ¤ ì„¤ì •
        const canvas = document.getElementById('drawCanvas');
        const ctx = canvas.getContext('2d');
        let isDrawing = false;
        
        // ì´ˆê¸°í™”
        function init() {
            createVowelButtons();
            loadQuestion();
            setupCanvas();
        }
        
        // ëª¨ìŒ ë²„íŠ¼ ìƒì„±
        function createVowelButtons() {
            const container = document.getElementById('vowelButtons');
            vowels.forEach(vowel => {
                const btn = document.createElement('button');
                btn.className = 'vowel-btn';
                btn.textContent = vowel;
                btn.onclick = () => checkAnswer(vowel, btn);
                container.appendChild(btn);
            });
        }
        
        // ë¬¸ì œ ë¡œë“œ
        function loadQuestion() {
            if (currentQuestion >= questions.length) {
                currentQuestion = 0;
            }
            
            const q = questions[currentQuestion];
            document.getElementById('quizImage').textContent = q.emoji;
            document.getElementById('feedback1').textContent = '';
            
            // ëª¨ë“  ë²„íŠ¼ ì´ˆê¸°í™”
            document.querySelectorAll('.vowel-btn').forEach(btn => {
                btn.className = 'vowel-btn';
                btn.disabled = false;
            });
        }
        
        // ì •ë‹µ í™•ì¸
        function checkAnswer(selected, btn) {
            const correct = questions[currentQuestion].vowel;
            
            if (selected === correct) {
                btn.classList.add('correct');
                document.getElementById('feedback1').textContent = 'ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤!';
                document.getElementById('feedback1').style.color = '#28a745';
                score += 10;
                document.getElementById('score').textContent = score;
                
                // ëª¨ë“  ë²„íŠ¼ ë¹„í™œì„±í™”
                document.querySelectorAll('.vowel-btn').forEach(b => b.disabled = true);
                
                // 2ë‹¨ê³„ë¡œ ì´ë™
                setTimeout(() => {
                    moveToStage2(correct);
                }, 1500);
            } else {
                btn.classList.add('wrong');
                document.getElementById('feedback1').textContent = 'âŒ ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”!';
                document.getElementById('feedback1').style.color = '#dc3545';
                setTimeout(() => {
                    btn.className = 'vowel-btn';
                }, 500);
            }
        }
        
        // 2ë‹¨ê³„ë¡œ ì´ë™
        function moveToStage2(vowel) {
            document.getElementById('stage1').style.display = 'none';
            document.getElementById('stage2').style.display = 'block';
            document.getElementById('targetVowel').textContent = vowel;
            document.getElementById('feedback2').textContent = '';
            clearCanvas();
        }
        
        // ìº”ë²„ìŠ¤ ì„¤ì •
        function setupCanvas() {
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
            
            // í„°ì¹˜ ì´ë²¤íŠ¸
            canvas.addEventListener('touchstart', (e) => {
                e.preventDefault();
                const touch = e.touches[0];
                const mouseEvent = new MouseEvent('mousedown', {
                    clientX: touch.clientX,
                    clientY: touch.clientY
                });
                canvas.dispatchEvent(mouseEvent);
            });
            
            canvas.addEventListener('touchmove', (e) => {
                e.preventDefault();
                const touch = e.touches[0];
                const mouseEvent = new MouseEvent('mousemove', {
                    clientX: touch.clientX,
                    clientY: touch.clientY
                });
                canvas.dispatchEvent(mouseEvent);
            });
            
            canvas.addEventListener('touchend', (e) => {
                e.preventDefault();
                const mouseEvent = new MouseEvent('mouseup', {});
                canvas.dispatchEvent(mouseEvent);
            });
        }
        
        function startDrawing(e) {
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            ctx.beginPath();
            ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
        }
        
        function draw(e) {
            if (!isDrawing) return;
            
            const rect = canvas.getBoundingClientRect();
            ctx.lineWidth = 8;
            ctx.lineCap = 'round';
            ctx.strokeStyle = '#667eea';
            ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
            ctx.stroke();
        }
        
        function stopDrawing() {
            isDrawing = false;
        }
        
        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
        
        function nextQuestion() {
            document.getElementById('feedback2').textContent = 'ğŸ‘ ì˜í–ˆì–´ìš”!';
            document.getElementById('feedback2').style.color = '#28a745';
            score += 10;
            document.getElementById('score').textContent = score;
            
            setTimeout(() => {
                currentQuestion++;
                document.getElementById('stage2').style.display = 'none';
                document.getElementById('stage1').style.display = 'block';
                loadQuestion();
            }, 1000);
        }
        
        // ê²Œì„ ì‹œì‘
        init();
    </script>
</body>
</html>